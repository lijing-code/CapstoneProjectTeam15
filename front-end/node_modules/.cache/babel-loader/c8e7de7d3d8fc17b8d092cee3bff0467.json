{"remainingRequest":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/thread-loader/dist/cjs.js!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/babel-loader/lib/index.js!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/App.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/App.vue","mtime":1728542135505},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1728541482156},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1728541480971},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/babel-loader/lib/index.js","mtime":1728541482257},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1728541482156},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1728541480989}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IE5hdmJhciBmcm9tICcuL2NvbXBvbmVudHMvTmF2YmFyLnZ1ZSc7CmltcG9ydCBGb290ZXIgZnJvbSAnLi9jb21wb25lbnRzL0Zvb3Rlci52dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJhc2VVUkw6ICJodHRwOi8vbG9jYWxob3N0OjgwODAvIiwKICAgICAgcHJvZHVjdHM6IG51bGwsCiAgICAgIGNhdGVnb3JpZXM6IG51bGwsCiAgICAgIGtleTogMCwKICAgICAgdG9rZW46IG51bGwsCiAgICAgIGNhcnRDb3VudDogMAogICAgfTsKICB9LAoKICBjb21wb25lbnRzOiB7CiAgICBGb290ZXIsCiAgICBOYXZiYXIKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGZldGNoRGF0YSgpIHsKICAgICAgYXdhaXQgYXhpb3MuZ2V0KHRoaXMuYmFzZVVSTCArICdwcm9kdWN0LycpLnRoZW4ocmVzID0+IHRoaXMucHJvZHVjdHMgPSByZXMuZGF0YSkuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpOwogICAgICBhd2FpdCBheGlvcy5nZXQodGhpcy5iYXNlVVJMICsgJ2NhdGVnb3J5LycpLnRoZW4ocmVzID0+IHRoaXMuY2F0ZWdvcmllcyA9IHJlcy5kYXRhKS5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7CgogICAgICBpZiAodGhpcy50b2tlbikgewogICAgICAgIGF3YWl0IGF4aW9zLmdldChgJHt0aGlzLmJhc2VVUkx9Y2FydC8/dG9rZW49JHt0aGlzLnRva2VufWApLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgLy8gdXBkYXRlIGNhcnQKICAgICAgICAgICAgdGhpcy5jYXJ0Q291bnQgPSBPYmplY3Qua2V5cyhyZXNwb25zZS5kYXRhLmNhcnRJdGVtcykubGVuZ3RoOwogICAgICAgICAgfQogICAgICAgIH0sIGVycm9yID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICByZXNldENhcnRDb3VudCgpIHsKICAgICAgdGhpcy5jYXJ0Q291bnQgPSAwOwogICAgfQoKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy50b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogICAgdGhpcy5mZXRjaERhdGEoKTsKICB9Cgp9Ow=="},{"version":3,"sources":["/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/App.vue"],"names":[],"mappings":"AAWA,OAAO,MAAP,MAAmB,yBAAnB;AACA,OAAO,MAAP,MAAmB,yBAAnB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,eAAe;AACb,EAAA,IAAI,GAAG;AACL,WAAO;AACL,MAAA,OAAO,EAAE,wBADJ;AAEL,MAAA,QAAQ,EAAE,IAFL;AAGL,MAAA,UAAU,EAAE,IAHP;AAIL,MAAA,GAAG,EAAE,CAJA;AAKL,MAAA,KAAK,EAAE,IALF;AAML,MAAA,SAAS,EAAE;AANN,KAAP;AAQD,GAVY;;AAYb,EAAA,UAAU,EAAE;AAAE,IAAA,MAAF;AAAU,IAAA;AAAV,GAZC;AAab,EAAA,OAAO,EAAE;AACP,UAAM,SAAN,GAAkB;AAChB,YAAM,KAAI,CACP,GADG,CACC,KAAK,OAAL,GAAe,UADhB,EAEH,IAFG,CAEG,GAAD,IAAU,KAAK,QAAL,GAAgB,GAAG,CAAC,IAFhC,EAGH,KAHG,CAGI,GAAD,IAAS,OAAO,CAAC,GAAR,CAAY,GAAZ,CAHZ,CAAN;AAKA,YAAM,KAAI,CACP,GADG,CACC,KAAK,OAAL,GAAe,WADhB,EAEH,IAFG,CAEG,GAAD,IAAU,KAAK,UAAL,GAAkB,GAAG,CAAC,IAFlC,EAGH,KAHG,CAGI,GAAD,IAAS,OAAO,CAAC,GAAR,CAAY,GAAZ,CAHZ,CAAN;;AAKA,UAAI,KAAK,KAAT,EAAgB;AACd,cAAM,KAAK,CAAC,GAAN,CAAW,GAAE,KAAK,OAAQ,eAAc,KAAK,KAAM,EAAnD,EAAsD,IAAtD,CACH,QAAD,IAAc;AACZ,cAAI,QAAQ,CAAC,MAAT,IAAmB,GAAvB,EAA4B;AAC1B;AACA,iBAAK,SAAL,GAAiB,MAAM,CAAC,IAAP,CAAY,QAAQ,CAAC,IAAT,CAAc,SAA1B,EAAqC,MAAtD;AACF;AACD,SANG,EAOH,KAAD,IAAW;AACT,UAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACF,SATI,CAAN;AAWF;AACD,KAzBM;;AA0BP,IAAA,cAAc,GAAG;AACf,WAAK,SAAL,GAAiB,CAAjB;AACD;;AA5BM,GAbI;;AA2Cb,EAAA,OAAO,GAAG;AACR,SAAK,KAAL,GAAa,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAb;AACA,SAAK,SAAL;AACD;;AA9CY,CAAf","sourcesContent":["<template>\n  <Navbar :cartCount=\"cartCount\" @resetCartCount=\"resetCartCount\" v-if=\"!['Signup', 'Signin'].includes($route.name)\" />\n  <div style=\"min-height: 60vh\">\n    <router-view v-if=\"products && categories\" :baseURL=\"baseURL\" :products=\"products\" :categories=\"categories\"\n      @fetchData=\"fetchData\">\n    </router-view>\n  </div>\n  <Footer v-if=\"!['Signup', 'Signin'].includes($route.name)\" />\n</template>\n\n<script>\nimport Navbar from './components/Navbar.vue';\nimport Footer from './components/Footer.vue';\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      baseURL: \"http://localhost:8080/\",\n      products: null,\n      categories: null,\n      key: 0,\n      token: null,\n      cartCount: 0,\n    };\n  },\n\n  components: { Footer, Navbar },\n  methods: {\n    async fetchData() {\n      await axios\n        .get(this.baseURL + 'product/')\n        .then((res) => (this.products = res.data))\n        .catch((err) => console.log(err));\n\n      await axios\n        .get(this.baseURL + 'category/')\n        .then((res) => (this.categories = res.data))\n        .catch((err) => console.log(err));\n\n      if (this.token) {\n        await axios.get(`${this.baseURL}cart/?token=${this.token}`).then(\n          (response) => {\n            if (response.status == 200) {\n              // update cart\n              this.cartCount = Object.keys(response.data.cartItems).length;\n            }\n          },\n          (error) => {\n            console.log(error);\n          }\n        );\n      }\n    },\n    resetCartCount() {\n      this.cartCount = 0;\n    },\n  },\n  mounted() {\n    this.token = localStorage.getItem('token');\n    this.fetchData();\n  },\n};\n</script>\n\n<style>\nhtml {\n  overflow-y: scroll;\n}\n</style>\n"],"sourceRoot":""}]}