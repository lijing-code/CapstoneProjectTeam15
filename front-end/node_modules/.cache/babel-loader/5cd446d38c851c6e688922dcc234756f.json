{"remainingRequest":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/thread-loader/dist/cjs.js!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/babel-loader/lib/index.js!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/views/Orders/Order.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/views/Orders/Order.vue","mtime":1727730382252},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1728541482156},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1728541480971},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/babel-loader/lib/index.js","mtime":1728541482257},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1728541482156},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1728541480989}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Y29uc3QgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b2tlbjogbnVsbCwKICAgICAgb3JkZXJMaXN0OiBbXQogICAgfTsKICB9LAoKICBwcm9wczogWyJiYXNlVVJMIl0sCiAgbmFtZTogJ09yZGVyJywKICBtZXRob2RzOiB7CiAgICAvLyBsaXN0IG9mIG9yZGVyIGhpc3RvcmllcwogICAgbGlzdE9yZGVycygpIHsKICAgICAgYXhpb3MuZ2V0KGAke3RoaXMuYmFzZVVSTH1vcmRlci8/dG9rZW49JHt0aGlzLnRva2VufWApLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICB0aGlzLm9yZGVycyA9IHJlc3BvbnNlLmRhdGE7IC8vIGZvciBlYWNoIG9yZGVyIHBvcHVsYXRlIG9yZGVyTGlzdAoKICAgICAgICAgIHRoaXMub3JkZXJzLmZvckVhY2gob3JkZXIgPT4gewogICAgICAgICAgICB0aGlzLm9yZGVyTGlzdC5wdXNoKHsKICAgICAgICAgICAgICBpZDogb3JkZXIuaWQsCiAgICAgICAgICAgICAgdG90YWxDb3N0OiBvcmRlci50b3RhbFByaWNlLAogICAgICAgICAgICAgIC8vIGdldCBzaG9ydCBkYXRlCiAgICAgICAgICAgICAgb3JkZXJkYXRlOiBvcmRlci5jcmVhdGVkRGF0ZS5zdWJzdHJpbmcoMCwgMTApLAogICAgICAgICAgICAgIC8vIGdldCBpbWFnZSBvZiB0aGUgZmlyc3Qgb3JkZXJJdGVtIG9mIHRoZSBvcmRlcgogICAgICAgICAgICAgIGltYWdlVVJMOiBvcmRlci5vcmRlckl0ZW1zWzBdLnByb2R1Y3QuaW1hZ2VVUkwsCiAgICAgICAgICAgICAgLy8gZ2V0IHRvdGFsIGl0ZW1zCiAgICAgICAgICAgICAgdG90YWxJdGVtczogb3JkZXIub3JkZXJJdGVtcy5sZW5ndGgKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sIGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQoKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy50b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgdGhpcy5saXN0T3JkZXJzKCk7CiAgfQoKfTs="},{"version":3,"sources":["/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/views/Orders/Order.vue"],"names":[],"mappings":"AAgCE,MAAM,KAAI,GAAI,OAAO,CAAC,OAAD,CAArB;;AACA,eAAe;AAEb,EAAA,IAAI,GAAG;AACL,WAAO;AACL,MAAA,KAAK,EAAE,IADF;AAEL,MAAA,SAAQ,EAAI;AAFP,KAAP;AAID,GAPY;;AAQb,EAAA,KAAK,EAAC,CAAC,SAAD,CARO;AASb,EAAA,IAAI,EAAE,OATO;AAUb,EAAA,OAAO,EAAE;AACP;AACA,IAAA,UAAU,GAAE;AACV,MAAA,KAAK,CAAC,GAAN,CAAW,GAAE,KAAK,OAAQ,gBAAe,KAAK,KAAM,EAApD,EACG,IADH,CACS,QAAD,IAAc;AAChB,YAAG,QAAQ,CAAC,MAAT,IAAiB,GAApB,EAAwB;AACtB,eAAK,MAAL,GAAc,QAAQ,CAAC,IAAvB,CADsB,CAEtB;;AACA,eAAK,MAAL,CAAY,OAAZ,CAAqB,KAAD,IAAW;AAC7B,iBAAK,SAAL,CAAe,IAAf,CAAoB;AAClB,cAAA,EAAE,EAAE,KAAK,CAAC,EADQ;AAElB,cAAA,SAAS,EAAE,KAAK,CAAC,UAFC;AAGlB;AACA,cAAA,SAAS,EAAE,KAAK,CAAC,WAAN,CAAkB,SAAlB,CAA4B,CAA5B,EAA8B,EAA9B,CAJO;AAKlB;AACA,cAAA,QAAQ,EAAE,KAAK,CAAC,UAAN,CAAiB,CAAjB,EAAoB,OAApB,CAA4B,QANpB;AAOlB;AACA,cAAA,UAAU,EAAE,KAAK,CAAC,UAAN,CAAiB;AARX,aAApB;AAUD,WAXD;AAYF;AACD,OAlBL,EAmBK,KAAD,IAAS;AACP,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,OArBL;AAsBD;;AAzBM,GAVI;;AAqCb,EAAA,OAAO,GAAG;AACR,SAAK,KAAL,GAAa,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAb;AACA,SAAK,UAAL;AACD;;AAxCY,CAAf","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-12 text-center\">\n        <h4 class=\"pt-3\">Your Orders</h4>\n      </div>\n    </div>\n    <!--        for each order display -->\n    <div v-for=\"order in orderList\" :key=\"order.pid\" class=\"row mt-2 pt-3 justify-content-around\">\n      <div class=\"col-2\"></div>\n      <div class=\"col-md-3 embed-responsive embed-responsive-16by9\">\n        <!--                display image in left-->\n        <img v-bind:src=\"order.imageURL\" class=\"w-100 card-img-top embed-responsive-item\">\n      </div>\n      <div class=\"col-md-5 px-3\">\n        <div class=\"card-block px-3\">\n          <h6 class=\"card-title\">\n            <router-link v-bind:to=\"'/order/'+order.id\">Order No : {{order.id}}</router-link>\n          </h6>\n          <p class=\"mb-0\">{{order.totalItems}} item<span v-if=\"order.totalItems > 1\">s</span></p>\n          <p id=\"item-price\" class=\"mb-0 font-weight-bold\">Total Cost : $ {{order.totalCost}}</p>\n          <p id=\"item-total-price\">Ordered on : {{order.orderdate}}</p>\n        </div>\n      </div>\n      <div class=\"col-2\"></div>\n      <div class=\"col-12\"><hr></div>\n    </div>\n  </div>\n\n</template>\n\n<script>\n  const axios = require('axios')\n  export default {\n\n    data() {\n      return {\n        token: null,\n        orderList : []\n      }\n    },\n    props:[\"baseURL\"],\n    name: 'Order',\n    methods: {\n      // list of order histories\n      listOrders(){\n        axios.get(`${this.baseURL}order/?token=${this.token}`)\n          .then((response) => {\n              if(response.status==200){\n                this.orders = response.data\n                // for each order populate orderList\n                this.orders.forEach((order) => {\n                  this.orderList.push({\n                    id: order.id,\n                    totalCost: order.totalPrice,\n                    // get short date\n                    orderdate: order.createdDate.substring(0,10),\n                    // get image of the first orderItem of the order\n                    imageURL: order.orderItems[0].product.imageURL,\n                    // get total items\n                    totalItems: order.orderItems.length\n                  })\n                })\n              }\n            },\n            (error)=>{\n              console.log(error)\n            });\n      },\n    },\n    mounted() {\n      this.token = localStorage.getItem(\"token\");\n      this.listOrders();\n    },\n  };\n\n</script>\n\n<style scoped>\n  h4, h5 {\n    font-family: 'Roboto', sans-serif;\n    color: #484848;\n    font-weight: 700;\n  }\n\n  .embed-responsive .card-img-top {\n    object-fit: cover;\n  }\n</style>\n"],"sourceRoot":""}]}