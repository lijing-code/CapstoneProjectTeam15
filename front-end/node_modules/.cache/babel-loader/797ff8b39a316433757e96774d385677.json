{"remainingRequest":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/thread-loader/dist/cjs.js!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/babel-loader/lib/index.js!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/App.vue?vue&type=template&id=b9f461b4","dependencies":[{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/App.vue","mtime":1727730382240},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1728541482156},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1728541480971},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/babel-loader/lib/index.js","mtime":1728541482257},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1728541481227},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1728541482156},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1728541480989}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50IH0gZnJvbSAidnVlIjsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBzdHlsZTogewogICAgIm1pbi1oZWlnaHQiOiAiNjB2aCIKICB9Cn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgY29uc3QgX2NvbXBvbmVudF9OYXZiYXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiTmF2YmFyIik7CgogIGNvbnN0IF9jb21wb25lbnRfcm91dGVyX3ZpZXcgPSBfcmVzb2x2ZUNvbXBvbmVudCgicm91dGVyLXZpZXciKTsKCiAgY29uc3QgX2NvbXBvbmVudF9Gb290ZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiRm9vdGVyIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIFshWydTaWdudXAnLCAnU2lnbmluJ10uaW5jbHVkZXMoX2N0eC4kcm91dGUubmFtZSkgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9OYXZiYXIsIHsKICAgIGtleTogMCwKICAgIGNhcnRDb3VudDogJGRhdGEuY2FydENvdW50LAogICAgb25SZXNldENhcnRDb3VudDogJG9wdGlvbnMucmVzZXRDYXJ0Q291bnQKICB9LCBudWxsLCA4LCBbImNhcnRDb3VudCIsICJvblJlc2V0Q2FydENvdW50Il0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzEsIFskZGF0YS5wcm9kdWN0cyAmJiAkZGF0YS5jYXRlZ29yaWVzID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfcm91dGVyX3ZpZXcsIHsKICAgIGtleTogMCwKICAgIGJhc2VVUkw6ICRkYXRhLmJhc2VVUkwsCiAgICBwcm9kdWN0czogJGRhdGEucHJvZHVjdHMsCiAgICBjYXRlZ29yaWVzOiAkZGF0YS5jYXRlZ29yaWVzLAogICAgb25GZXRjaERhdGE6ICRvcHRpb25zLmZldGNoRGF0YQogIH0sIG51bGwsIDgsIFsiYmFzZVVSTCIsICJwcm9kdWN0cyIsICJjYXRlZ29yaWVzIiwgIm9uRmV0Y2hEYXRhIl0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpXSksICFbJ1NpZ251cCcsICdTaWduaW4nXS5pbmNsdWRlcyhfY3R4LiRyb3V0ZS5uYW1lKSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X0Zvb3RlciwgewogICAga2V5OiAxCiAgfSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSldLCA2NCk7Cn0="},{"version":3,"sources":["/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/App.vue"],"names":[],"mappings":";;AAEO,EAAA,KAAwB,EAAxB;AAAA,kBAAA;AAAA;;;;;;;;;4EADuF,Q,CAAS,IAAA,CAAA,MAAA,CAAO,I,mBAA5G,YAAA,CAAqH,iBAArH,EAAqH;UAAA;AAA5G,IAAA,SAAS,EAAE,KAAA,CAAA,SAAiG;AAArF,IAAA,gBAAc,EAAE,QAAA,CAAA;AAAqE,GAArH,E,IAAA,E,CAAA,E,iCAAA,C,mCACA,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHe,KAAA,CAAA,QAAA,IAAY,KAAA,CAAA,U,kBAA/B,YAAA,CAEc,sBAFd,EAEc;UAAA;AAF8B,IAAA,OAAO,EAAE,KAAA,CAAA,OAEvC;AAFiD,IAAA,QAAQ,EAAE,KAAA,CAAA,QAE3D;AAFsE,IAAA,UAAU,EAAE,KAAA,CAAA,UAElF;AADX,IAAA,WAAS,EAAE,QAAA,CAAA;AACA,GAFd,E,IAAA,E,CAAA,E,oDAAA,C,iCAGI,CAJN,C,wBAKoC,Q,CAAS,IAAA,CAAA,MAAA,CAAO,I,mBAApD,YAAA,CAA6D,iBAA7D,EAA6D;AAAA,IAAA,GAAA,EAAA;AAAA,GAA7D,C","sourcesContent":["<template>\n  <Navbar :cartCount=\"cartCount\" @resetCartCount=\"resetCartCount\" v-if=\"!['Signup', 'Signin'].includes($route.name)\" />\n  <div style=\"min-height: 60vh\">\n    <router-view v-if=\"products && categories\" :baseURL=\"baseURL\" :products=\"products\" :categories=\"categories\"\n      @fetchData=\"fetchData\">\n    </router-view>\n  </div>\n  <Footer v-if=\"!['Signup', 'Signin'].includes($route.name)\" />\n</template>\n\n<script>\nimport Navbar from './components/Navbar.vue';\nimport Footer from './components/Footer.vue';\nexport default {\n  data() {\n    return {\n      baseURL: \"http://localhost:8080/\",\n      products: null,\n      categories: null,\n      key: 0,\n      token: null,\n      cartCount: 0,\n    };\n  },\n\n  components: { Footer, Navbar },\n  methods: {\n    async fetchData() {\n      await axios\n        .get(this.baseURL + 'product/')\n        .then((res) => (this.products = res.data))\n        .catch((err) => console.log(err));\n\n      await axios\n        .get(this.baseURL + 'category/')\n        .then((res) => (this.categories = res.data))\n        .catch((err) => console.log(err));\n\n      if (this.token) {\n        await axios.get(`${this.baseURL}cart/?token=${this.token}`).then(\n          (response) => {\n            if (response.status == 200) {\n              // update cart\n              this.cartCount = Object.keys(response.data.cartItems).length;\n            }\n          },\n          (error) => {\n            console.log(error);\n          }\n        );\n      }\n    },\n    resetCartCount() {\n      this.cartCount = 0;\n    },\n  },\n  mounted() {\n    this.token = localStorage.getItem('token');\n    this.fetchData();\n  },\n};\n</script>\n\n<style>\nhtml {\n  overflow-y: scroll;\n}\n</style>\n"],"sourceRoot":""}]}