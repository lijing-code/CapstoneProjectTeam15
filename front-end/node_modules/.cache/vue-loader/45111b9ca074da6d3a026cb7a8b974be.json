{"remainingRequest":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/views/SearchResults.vue?vue&type=style&index=0&id=070cc6b5&scoped=true&lang=css","dependencies":[{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/views/SearchResults.vue","mtime":1728548339668},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/css-loader/dist/cjs.js","mtime":1728541481989},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1728541481213},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/postcss-loader/src/index.js","mtime":1728541481355},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1728541482156},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1728541480989}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmgyIHsKICBmb250LWZhbWlseTogJ1JvYm90bycsIHNhbnMtc2VyaWY7CiAgY29sb3I6ICM0ODQ4NDg7CiAgZm9udC13ZWlnaHQ6IDcwMDsKfQo="},{"version":3,"sources":["/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/views/SearchResults.vue"],"names":[],"mappings":";AA4FA,CAAC,EAAE;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACjC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAClB","file":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/views/SearchResults.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"container\">\n    <!-- 显示与关键词匹配的类别 -->\n    <div class=\"row\">\n      <div class=\"col-12 text-left text-center\">\n        <h2>Matching Categories</h2>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div v-if=\"categoryResults.length\">\n        <div\n          v-for=\"category in categoryResults\"\n          :key=\"category.id\"\n          class=\"col-md-6 col-xl-4 col-12 pt-3 justify-content-around d-flex\"\n        >\n          <CategoryBox :category=\"category\" />\n        </div>\n      </div>\n      <div v-else>\n        <p>No categories found for \"{{ searchQuery }}\"</p>\n      </div>\n    </div>\n\n    <hr>\n\n    <!-- 显示与关键词匹配的产品 -->\n    <div class=\"row\">\n      <div class=\"col-12 text-left text-center\">\n        <h2>Matching Products</h2>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div v-if=\"productResults.length\">\n        <div\n          v-for=\"product in productResults\"\n          :key=\"product.id\"\n          class=\"col-md-6 col-xl-4 col-12 pt-3 justify-content-around d-flex\"\n        >\n          <ProductBox :product=\"product\" />\n        </div>\n      </div>\n      <div v-else>\n        <p>No products found for \"{{ searchQuery }}\"</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ProductBox from '@/components/Product/ProductBox.vue';\nimport CategoryBox from '@/components/Category/CategoryBox.vue';\nimport axios from 'axios';\n\nexport default {\n  name: 'SearchResults',\n  components: {\n    ProductBox,\n    CategoryBox,\n  },\n  data() {\n    return {\n      productResults: [],\n      categoryResults: [],\n    };\n  },\n  created() {\n    this.fetchSearchResults();\n  },\n  watch: {\n    // 监听路由中的搜索关键词变化\n    '$route.query.q': 'fetchSearchResults',\n  },\n  methods: {\n    fetchSearchResults() {\n      const searchQuery = this.$route.query.q;\n      if (searchQuery) {\n        axios\n          .get(`/api/search?q=${searchQuery}`)\n          .then(response => {\n            this.productResults = response.data.products;  // 假设后端返回产品在 \"products\" 字段\n            this.categoryResults = response.data.categories;  // 假设后端返回类别在 \"categories\" 字段\n          })\n          .catch(error => {\n            console.error('Error fetching search results:', error);\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\nh2 {\n  font-family: 'Roboto', sans-serif;\n  color: #484848;\n  font-weight: 700;\n}\n</style>"]}]}