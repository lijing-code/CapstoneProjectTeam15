{"remainingRequest":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/App.vue?vue&type=style&index=0&id=ae46e3c8&lang=css","dependencies":[{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/App.vue","mtime":1728542135505},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/css-loader/dist/cjs.js","mtime":1728541481989},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1728541481213},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/postcss-loader/src/index.js","mtime":1728541481355},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1728541482156},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1728541480989}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cmh0bWwgewogIG92ZXJmbG93LXk6IHNjcm9sbDsKfQo="},{"version":3,"sources":["/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/App.vue"],"names":[],"mappings":";AAiEA,CAAC,CAAC,CAAC,EAAE;EACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpB","file":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/App.vue","sourceRoot":"","sourcesContent":["<template>\n  <Navbar :cartCount=\"cartCount\" @resetCartCount=\"resetCartCount\" v-if=\"!['Signup', 'Signin'].includes($route.name)\" />\n  <div style=\"min-height: 60vh\">\n    <router-view v-if=\"products && categories\" :baseURL=\"baseURL\" :products=\"products\" :categories=\"categories\"\n      @fetchData=\"fetchData\">\n    </router-view>\n  </div>\n  <Footer v-if=\"!['Signup', 'Signin'].includes($route.name)\" />\n</template>\n\n<script>\nimport Navbar from './components/Navbar.vue';\nimport Footer from './components/Footer.vue';\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      baseURL: \"http://localhost:8080/\",\n      products: null,\n      categories: null,\n      key: 0,\n      token: null,\n      cartCount: 0,\n    };\n  },\n\n  components: { Footer, Navbar },\n  methods: {\n    async fetchData() {\n      await axios\n        .get(this.baseURL + 'product/')\n        .then((res) => (this.products = res.data))\n        .catch((err) => console.log(err));\n\n      await axios\n        .get(this.baseURL + 'category/')\n        .then((res) => (this.categories = res.data))\n        .catch((err) => console.log(err));\n\n      if (this.token) {\n        await axios.get(`${this.baseURL}cart/?token=${this.token}`).then(\n          (response) => {\n            if (response.status == 200) {\n              // update cart\n              this.cartCount = Object.keys(response.data.cartItems).length;\n            }\n          },\n          (error) => {\n            console.log(error);\n          }\n        );\n      }\n    },\n    resetCartCount() {\n      this.cartCount = 0;\n    },\n  },\n  mounted() {\n    this.token = localStorage.getItem('token');\n    this.fetchData();\n  },\n};\n</script>\n\n<style>\nhtml {\n  overflow-y: scroll;\n}\n</style>\n"]}]}