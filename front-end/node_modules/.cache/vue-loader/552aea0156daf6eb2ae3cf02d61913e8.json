{"remainingRequest":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/views/Checkout/Checkout.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/views/Checkout/Checkout.vue","mtime":1727730382252},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/babel-loader/lib/index.js","mtime":1728541482257},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1728541482156},{"path":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1728541480989}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RyaXBlQVBJVG9rZW46IHByb2Nlc3MuZW52LlZVRV9BUFBfU1RSSVBFVE9LRU4sCiAgICAgIHN0cmlwZTogJycsCiAgICAgIHRva2VuOiBudWxsLAogICAgICBzZXNzaW9uSWQ6IG51bGwsCiAgICAgIGNoZWNrb3V0Qm9keUFycmF5OiBbXSwKICAgIH07CiAgfSwKCiAgbmFtZTogJ0NoZWNrb3V0JywKICBwcm9wczogWydiYXNlVVJMJ10sCiAgbWV0aG9kczogewogICAgY29uZmlndXJlU3RyaXBlKCkgeyB9LAoKICAgIGdldEFsbEl0ZW1zKCkgewogICAgICBheGlvcy5nZXQoYCR7dGhpcy5iYXNlVVJMfWNhcnQvP3Rva2VuPSR7dGhpcy50b2tlbn1gKS50aGVuKAogICAgICAgIChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgbGV0IHByb2R1Y3RzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgbGV0IGxlbiA9IE9iamVjdC5rZXlzKHByb2R1Y3RzLmNhcnRJdGVtcykubGVuZ3RoOwogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKQogICAgICAgICAgICAgIHRoaXMuY2hlY2tvdXRCb2R5QXJyYXkucHVzaCh7CiAgICAgICAgICAgICAgICBpbWFnZVVybDogcHJvZHVjdHMuY2FydEl0ZW1zW2ldLnByb2R1Y3QuaW1hZ2VVUkwsCiAgICAgICAgICAgICAgICBwcm9kdWN0TmFtZTogcHJvZHVjdHMuY2FydEl0ZW1zW2ldLnByb2R1Y3QubmFtZSwKICAgICAgICAgICAgICAgIHF1YW50aXR5OiBwcm9kdWN0cy5jYXJ0SXRlbXNbaV0ucXVhbnRpdHksCiAgICAgICAgICAgICAgICBwcmljZTogcHJvZHVjdHMuY2FydEl0ZW1zW2ldLnByb2R1Y3QucHJpY2UsCiAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3RzLmNhcnRJdGVtc1tpXS5wcm9kdWN0LmlkLAogICAgICAgICAgICAgICAgdXNlcklkOiBwcm9kdWN0cy5jYXJ0SXRlbXNbaV0udXNlcklkLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9CiAgICAgICk7CiAgICB9LAoKICAgIGdvVG9DaGVja291dCgpIHsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCgKICAgICAgICAgIHRoaXMuYmFzZVVSTCArICdvcmRlci9jaGVja291dC1zZXNzaW9uJywKICAgICAgICAgIHRoaXMuY2hlY2tvdXRCb2R5QXJyYXkKICAgICAgICApCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2Vzc2lvbklkJywgcmVzcG9uc2UuZGF0YS5zZXNzaW9uSWQpOwogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSkKICAgICAgICAudGhlbigoc2Vzc2lvbikgPT4gewogICAgICAgICAgcmV0dXJuIHRoaXMuc3RyaXBlLnJlZGlyZWN0VG9DaGVja291dCh7CiAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbi5zZXNzaW9uSWQsCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewoKICAgIHRoaXMudG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKCiAgICB0aGlzLnN0cmlwZSA9IFN0cmlwZSh0aGlzLnN0cmlwZUFQSVRva2VuKTsKICAgIHRoaXMuZ2V0QWxsSXRlbXMoKTsKICB9LAp9Owo="},{"version":3,"sources":["/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/views/Checkout/Checkout.vue"],"names":[],"mappings":";AAeA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC/C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACvB,CAAC;EACH,CAAC;;EAED,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;;IAErB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;UACZ,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;YAC1B,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChD,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;cAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,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","file":"/Users/jingli/Desktop/tecmi/frontend/tecmi-ecommerce-frontend/tecmi-ecommerce-frontend/src/views/Checkout/Checkout.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"div_class\">\n    <h3>You will be redirected to payment page</h3>\n\n    <div class=\"alert alert-primary\" role=\"alert\">\n      While making payment use card number 4242 4242 4242 4242 and enter random\n      cvv(3 digit)\n    </div>\n\n    <button class=\"checkout_button\" id=\"proceed-to-checkout\" @click=\"goToCheckout()\">\n      Make payment\n    </button>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      stripeAPIToken: process.env.VUE_APP_STRIPETOKEN,\n      stripe: '',\n      token: null,\n      sessionId: null,\n      checkoutBodyArray: [],\n    };\n  },\n\n  name: 'Checkout',\n  props: ['baseURL'],\n  methods: {\n    configureStripe() { },\n\n    getAllItems() {\n      axios.get(`${this.baseURL}cart/?token=${this.token}`).then(\n        (response) => {\n          if (response.status == 200) {\n            let products = response.data;\n            let len = Object.keys(products.cartItems).length;\n            for (let i = 0; i < len; i++)\n              this.checkoutBodyArray.push({\n                imageUrl: products.cartItems[i].product.imageURL,\n                productName: products.cartItems[i].product.name,\n                quantity: products.cartItems[i].quantity,\n                price: products.cartItems[i].product.price,\n                productId: products.cartItems[i].product.id,\n                userId: products.cartItems[i].userId,\n              });\n          }\n        },\n        (err) => {\n          console.log(err);\n        }\n      );\n    },\n\n    goToCheckout() {\n      axios\n        .post(\n          this.baseURL + 'order/checkout-session',\n          this.checkoutBodyArray\n        )\n        .then((response) => {\n          localStorage.setItem('sessionId', response.data.sessionId);\n          return response.data;\n        })\n        .then((session) => {\n          return this.stripe.redirectToCheckout({\n            sessionId: session.sessionId,\n          });\n        });\n    },\n  },\n  mounted() {\n\n    this.token = localStorage.getItem('token');\n\n    this.stripe = Stripe(this.stripeAPIToken);\n    this.getAllItems();\n  },\n};\n</script>\n\n<style>\n.alert {\n  width: 50%;\n}\n\n.div_class {\n  margin-top: 5%;\n  margin-left: 30%;\n}\n\n.checkout_button {\n  background-color: #5d3dec;\n  border: none;\n  color: white;\n  margin-left: 15%;\n  padding: 15px 30px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 15px;\n  font-weight: bold;\n  border-radius: 15px;\n}\n\n.checkout_button:focus {\n  outline: none;\n  box-shadow: none;\n}\n\n.checkout_button:disabled {\n  background-color: #9b86f7;\n  border: none;\n  color: white;\n  margin-left: 15%;\n  padding: 15px 30px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 15px;\n  font-weight: bold;\n  border-radius: 15px;\n  cursor: not-allowed;\n}\n</style>\n"]}]}